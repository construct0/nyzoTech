<link rel="stylesheet" type="text/css" href="../style.css">

<style>
.nyzo-extension-installed .installed-image {
    display: visible;
}
.nyzo-extension-installed .not-installed-image {
    display: none;
}
.nyzo-extension-not-installed .installed-image {
    display: none;
}
.nyzo-extension-not-installed .not-installed-image {
    display: visible;
}
</style>

<h1>Chrome browser extension</h1>

<p>
    This page will describe a Chrome browser extension for sending Nyzo transactions from a web browser.
</p>

<p>
    This page, in its current state, is a placeholder for testing the Chrome extension.
</p>

<p>
    When the extension is loaded, it looks for elements with the CSS class <span class="code">nyzo-tip-button</span>.
    The extension retrieves the <span class="code">data-client-url</span> and <span class="code">data-receiver-id</span>
    attributes from the elements it finds. Then, the <span class="code">nyzo-extension-not-installed</span> CSS class is
    removed from the elements, and the <span class="code">nyzo-extension-installed</span> CSS class is added.
</p>

<p>
    The page has no responsibility to respond to these CSS class changes or even to display the element at all. This
    page demonstrates changing the appearance of a button in response to the extension's CSS class changes.
</p>

<div class="nyzo-tip-button nyzo-extension-not-installed" onclick='tipButtonOnClick(this);'
     data-client-url="https://client.nyzo.co/forwardTransaction"
     data-receiver-id="id__8cdasPC2QVZ13iG42RWhp47gow9SsIXZgp0Aga59oEITG2X-M7Ur">
    <img src="images/browserExtension/nyzo-extension-installed-256.png" class="installed-image"
 style="width: 100px; height: 100px;">
    <img src="images/browserExtension/nyzo-extension-not-installed-256.png" class="not-installed-image"
 style="width: 100px; height: 100px;">
</div>

<p id="alert"></p>

<script>
function tipButtonOnClick(button) {
    var alert = document.getElementById('alert');
    if (button.classList.contains('nyzo-extension-installed')) {
        alert.innerHTML = '<span style="color: green;">The Nyzo extension is installed.</span>';
    } else {
        alert.innerHTML = '<span style="color: red;">The Nyzo extension is NOT installed.</span>';
    }

    alert.innerHTML += 'This is an example of using JavaScript to respond differently to an event depending on ' +
        'whether the Nyzo extension is installed.';

    setTimeout(function() {
        alert.innerHTML = '';
    }, 5000);
}
</script>