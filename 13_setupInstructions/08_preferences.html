<link rel="stylesheet" type="text/css" href="../style.css">

<h1>Preferences</h1>

<p>
    The Nyzo Java codebase has a class named <span class="code">PreferencesUtil</span> that provides values for a number
    of parameters. All of these parameters have default values in the Java code, though some of the default values
    result in functionality being disabled.
</p>

<div class="table">

    <div class="header-row">
        <div>name</div>
        <div>data type</div>
        <div>default value</div>
        <div>description</div>
    </div>

    <div class="data-row">
        <div>add_api_endpoints</div>
        <div>boolean</div>
        <div>true</div>
        <div>
            When activated, adds endpoints for a client to be accessible via API. This may be deactivated to run a
            client that only offers web endpoints or a console interface. <span class="italic">Only applies to the
            client.</span>
        </div>
    </div>

    <div class="data-row">
        <div>add_web_endpoints</div>
        <div>boolean</div>
        <div>true</div>
        <div>
            When activated, adds endpoints for a client to be accessible via web browser. This may be deactivated to
            run a client that only offers API endpoints or a console interface. <span class="italic">Only applies to the
            client.</span>
        </div>
    </div>

    <div class="data-row">
        <div>always_track_blockchain</div>
        <div>boolean</div>
        <div>false</div>
        <div>
            When this is activated, out-of-cycle verifiers track the blockchain in a manner similar to the client. Using
            block-with-votes requests, these verifiers attempt to loosely track the frozen edge of the blockchain at all
            times. When this is not activated, out-of-cycle verifiers do not regularly track the blockchain. Instead,
            they reinitialize the frozen edge every 20 minutes. <span class="italic">Only applies to out-of-cycle
            verifiers.</span>
        </div>
    </div>

    <div class="data-row">
        <div>block_file_consolidator</div>
        <div>character string (enumeration)</div>
        <div>empty string</div>
        <div>
            Allows three values: <span class="code">consolidate</span>, <span class="code">delete</span>, and
            <span class="code">disable</span>. The original behavior is <span class="code">consolidate</span>, which
            bundles all individual files into combined files of up to 1000 blocks each, afterwards deleting the
            individual files to save filesystem resources. The <span class="code">delete</span> option skips
            consolidation, but it deletes the individual files at the same time as they would be deleted with the
            <span class="code">consolidate</span> option. The <span class="code">disable</span> option leaves the
            individual files in place. <span class="italic">For the client, default behavior is
            <span class="code">consolidate</span>. For the verifier and sentinel, default behavior is
            <span class="code">delete</span>.</span>
        </div>
    </div>

    <div class="data-row">
        <div>concurrent_connection_reduction_rate</div>
        <div>64-bit floating-point number</div>
        <div>0.02</div>
        <div>
            The rate at which the sum of all concurrent connections beyond
            <span class="code">concurrent_connection_throttle_threshold</span> reduces the number of concurrent
            connections permitted from each IP address.
        </div>
    </div>

    <div class="data-row">
        <div>concurrent_connection_throttle_threshold</div>
        <div>integer</div>
        <div>500</div>
        <div>
            The number of connections beyond this value reduces the number of connections permitted from each IP address
            according to the rate specified by <span class="code">concurrent_connection_reduction_rate</span>.
        </div>
    </div>

    <div class="data-row">
        <div>connection_close_delay</div>
        <div>long integer</div>
        <div>500</div>
        <div>This is the minimum desired delay between when a connection is no longer needed and when it is forcibly
            closed. <span class="emphasis">This value is specified in milliseconds.</span></div>
    </div>

    <div class="data-row">
        <div>consensus_tracker_storage_threshold_bytes</div>
        <div>long integer</div>
        <div>20,000,000,000</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>consolidated_block_base_url</div>
        <div>character string (URL)</div>
        <div>https://blocks.nyzo.co/blockFiles/</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>create_and_score_test_new_verifier_block</div>
        <div>boolean</div>
        <div>false</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>documentation_data_root</div>
        <div>character string (file path)</div>
        <div>empty string</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>enable_consensus_tracker</div>
        <div>boolean</div>
        <div>false</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>enable_console_color</div>
        <div>boolean</div>
        <div>false</div>
        <div>Use ASCII color codes to decorate console output.</div>
    </div>

    <div class="data-row">
        <div>fallback_vote_source_identifier</div>
        <div>byte array</div>
        <div>null</div>
        <div>The identifier of another verifier whose vote will be copied whenever this verifier cannot calculate the
            vote independently. <span class="emphasis">When a verifier is having trouble tracking the blockchain, this
            setting can be used to allow the verifier to regularly cast votes and maintain its performance score.</span>
        </div>
    </div>

    <div class="data-row">
        <div>json_maximum_string_length</div>
        <div>integer</div>
        <div>10,000</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>log_timestamps</div>
        <div>boolean</div>
        <div>false</div>
        <div>Controls whether a timestamp is added to every line logged with <span class="code">LogUtil</span>.</div>
    </div>

    <div class="data-row">
        <div>maximum_concurrent_connections</div>
        <div>integer</div>
        <div>1000</div>
        <div>The maximum number of concurrent connections allowed from all IP addresses combined. After this limit is
            exceeded, all connections will be refused.</div>
    </div>

    <div class="data-row">
        <div>maximum_concurrent_connections_per_ip</div>
        <div>integer</div>
        <div>5</div>
        <div>The maximum number of concurrent connections allowed from each source IP address. After this limit is
            exceeded, all connections from the particular IP address will be refused.</div>
    </div>

    <div class="data-row">
        <div>nickname_map_threshold</div>
        <div>integer</div>
        <div>2000</div>
        <div>
            Maximum number of nicknames to track locally. This limit was put into place
            <a href="/releaseNotes/v500" target="_blank">in version 500</a> to prevent attacks that attempt to spam the
            verifier with an excessive number of names.
        </div>
    </div>

    <div class="data-row">
        <div>script_maximum_in_flight_requests</div>
        <div>integer</div>
        <div>50</div>
        <div>
            The maximum number of messages that the <span class="code">ScriptUtil.sendMessages()</span> method will
            allow to be in progress simultaneously. When this limit is reached, the method will wait for messages to
            complete (fail or receive a response) before sending another message.
        </div>
    </div>

    <div class="data-row">
        <div>script_maximum_message_attempts</div>
        <div>integer</div>
        <div>3</div>
        <div>
            The maximum number of times that the <span class="code">ScriptUtil.sendMessages()</span> method will attempt
            to send each message before accepting failure.
        </div>
    </div>

    <div class="data-row">
        <div>seed_transaction_base_url</div>
        <div>character string (URL)</div>
        <div>https://seed.nyzo.co/seedTransactions/</div>
        <div>
            The base URL from which the verifier can download pre-signed seed transactions. The default value points to
            a location provided by the Nyzo team.
        </div>
    </div>

    <div class="data-row">
        <div>start_historical_block_manager</div>
        <div>boolean</div>
        <div>false</div>
        <div>
            Whether to start the background process in the <span class="code">HistoricalBlockManager</span> class. This
            background process builds the offset files that allow efficient retrieval of blocks from consolidated block
            files. The <span class="code">HistoricalBlockManager</span> is only used by the client. This setting has no
            effect on other run modes.
        </div>
    </div>

    <div class="data-row">
        <div>start_web_listener</div>
        <div>boolean</div>
        <div>true for documentation server and relay server, false for other run modes</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>transaction_indexer_active</div>
        <div>boolean</div>
        <div>true</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>verifier_add_metadata_transactions</div>
        <div>boolean</div>
        <div>true</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>web_listener_connection_timeout</div>
        <div>integer</div>
        <div>2000</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>web_listener_keystore_password</div>
        <div>character string</div>
        <div>empty string</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>web_listener_keystore_path</div>
        <div>character string (file path)</div>
        <div>empty string</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>web_maximum_concurrent_connections_per_ip</div>
        <div>integer</div>
        <div>40</div>
        <div></div>
    </div>

    <div class="data-row">
        <div>web_port</div>
        <div>integer</div>
        <div>80</div>
        <div>Port for the HTTP web listener. This value will apply to all run modes except those for which a value is
            separately specified. The names for specific run modes are: web_port_client, web_port_documentation_server,
            web_port_relay_server, web_port_sentinel, and web_port_verifier.</div>
    </div>

    <div class="data-row">
        <div>web_port_https</div>
        <div>integer</div>
        <div>443</div>
        <div>Port for the HTTPS web listener. This value will apply to all run modes except those for which a value is
            separately specified. The names for specific run modes are: web_port_https_client,
            web_port_https_documentation_server, web_port_https_relay_server, web_port_https_sentinel, and
            web_port_https_verifier.</div>
    </div>

</div>