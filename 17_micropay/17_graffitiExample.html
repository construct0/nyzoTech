<link rel="stylesheet" type="text/css" href="../style.css">

<h1>Graffiti example</h1>

<style>
    canvas {
        border: 1px solid black;
        margin: auto;
        width: 100%;
        min-width: 320px;
        max-width: 640px;
        display: block;
        image-rendering: pixelated;
    }

    .color-selector-container {
        margin: 1rem 0;
        text-align: center;
    }

    .color-selector-border {
        display: inline-block;
        padding: 2px;
    }

    .color-selector-border-unselected {
        background-color: white;
        border: 1px solid white;
    }

    .color-selector-border-selected {
        background-color: gray;
        border: 1px solid black;
    }

    .color-selector {
        border: 1px solid black;
        width: 40px;
        height: 40px;
    }
</style>

<canvas id="wall" width="320" height="240">
</canvas>

<div id="color-selector-container" class="color-selector-container">
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #000000;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #0000AA;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #00AA00;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #00AAAA;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #AA0000;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #AA00AA;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #AA5500;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #AAAAAA;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #555555;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #5555FF;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #55FF55;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #55FFFF;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #FF5555;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #FF55FF;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #FFFF55;"></div>
    </div>
    <div class="color-selector-border" onclick="colorSelectorClicked(this);">
        <div class="color-selector" style="background-color: #FFFFFF;"></div>
    </div>
</div>

<p class="emphasis">
    This page does not yet allow drawing on the wall.
</p>

<p>
    This page will have a virtual graffiti wall on which users can draw using automatic transactions. The wall will have
    a resolution of 320 pixels by 240 pixels, and it will use the CGA 16-color palette.
</p>

<p class="italic">
    This page is in active development to demonstrate a realtime multiuser application on the Nyzo blockchain.
</p>

<script>
    // Create the context.
    let wall = document.getElementById('wall');
    let context = wall.getContext('2d');

    function colorSelectorClicked(div) {
        const container = document.getElementById('color-selector-container');
        let color = '';
        for (let i = 0; i < container.children.length; i++) {
            const child = container.children[i];
            if (child == div) {
                child.classList.add('color-selector-border-selected');
                child.classList.remove('color-selector-border-unselected');
                color = child.children[0].style.backgroundColor;
            } else {
                child.classList.add('color-selector-border-unselected');
                child.classList.remove('color-selector-border-selected');
            }
        }

        // Set the drawing color.
        context.fillStyle = color;

        // Draw one pixel with the selected color.
        context.fillRect(20, 20, 1, 1);
    }

    // Initialize the color selection.
    colorSelectorClicked(document.getElementById('color-selector-container').children[0]);
</script>