<link rel="stylesheet" type="text/css" href="../style.css" xmlns="http://www.w3.org/1999/html">
<script src="../script.js"></script>

<h1>Nyzo 642: updated NyzoString tests</h1>

<p>
    Nyzo version 642
    (<a href="https://github.com/n-y-z-o/nyzoVerifier/commit/2d91ec85c3ff88c752730a94e9f9f22e8739d210"
        target="_blank">commit on GitHub</a>) improves the tests for
    <span class="code-mb">Nyzo<wbr>String<wbr>Private<wbr>Seed</span> and
    <span class="code-mb">Nyzo<wbr>String<wbr>Public<wbr>Identifier</span>, bringing both tests to parity with the tests
    in the PHP code for the WordPress plugin.
</p>

<p class="emphasis">
    This version does not affect any run modes.
</p>

<p>
    One of the many enjoyable aspects of porting code to a different language is the opportunity it provides to
    reconsider the function of the old code subject to porting. In porting the tests of
    <span class="code-mb">Nyzo<wbr>String</span> encoding and decoding, we found the old Java tests lacking. The
    original tests would generate random values, encode them to <span class="code-mb">Nyzo<wbr>String</span> objects,
    and decode them back to <span class="code-mb">byte</span> arrays. While this ensured a symmetrical encoding and
    decoding process, it did not ensure consistency in the encoded representation.
</p>

<p>
    These updated tests use literal values to ensure consistency of encoded representations in addition to the
    previously assured lossless round-trip of encoding and decoding.
</p>

<p>
    In <span class="code-mb">Nyzo<wbr>String<wbr>Test.<wbr>test<wbr>Private<wbr>Seed<wbr>Strings()</span>, the
    pseudorandom generator was removed and literal values were added. The values provided are the first fifteen values
    that were generated by the previous version of this method.
</p>

<img src="images/0642/rn_642_0.png" alt="RN_642 image 0" class="code-image" style="width: 390px; max-height: 370px;">

<p>
    The round-trip encoding and decoding check was removed, and separate decoding and encoding checks were added.
</p>

<img src="images/0642/rn_642_1.png" alt="RN_642 image 1" class="code-image" style="width: 440px; max-height: 380px;">

<p>
    In <span class="code-mb">Nyzo<wbr>String<wbr>Test.<wbr>test<wbr>Public<wbr>Identifier<wbr>Strings()</span>, some
    well-known identifiers were used as test values.
</p>

<img src="images/0642/rn_642_2.png" alt="RN_642 image 2" class="code-image" style="width: 390px; max-height: 300px;">

<p>
    The changes in this method parallel the changes to the private-seed test.
</p>

<img src="images/0642/rn_642_3.png" alt="RN_642 image 3" class="code-image" style="width: 450px; max-height: 390px;">